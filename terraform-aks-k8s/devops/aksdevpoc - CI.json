{"triggers":[{"branchFilters":["+refs/heads/master"],"pathFilters":["+/"],"batchChanges":true,"maxConcurrentBuildsPerBranch":1,"triggerType":2}],"variables":{"system.debug":{"value":"false","allowOverride":true}},"properties":{},"tags":[],"_links":{"self":{"href":"https://dev.azure.com/campbellj0/d5229ca7-3253-4f8e-822d-a5bcac0c9fa3/_apis/build/Definitions/2?revision=1"},"web":{"href":"https://dev.azure.com/campbellj0/d5229ca7-3253-4f8e-822d-a5bcac0c9fa3/_build/definition?definitionId=2"},"editor":{"href":"https://dev.azure.com/campbellj0/d5229ca7-3253-4f8e-822d-a5bcac0c9fa3/_build/designer?id=2&_a=edit-build-definition"},"badge":{"href":"https://dev.azure.com/campbellj0/d5229ca7-3253-4f8e-822d-a5bcac0c9fa3/_apis/build/status/2"}},"buildNumberFormat":"$(date:yyyyMMdd)$(rev:.r)","jobAuthorizationScope":1,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Azure Deployment:Create Azure Container Registry","timeoutInMinutes":0,"condition":"succeeded()","task":{"id":"94a74903-f93f-4075-884f-dc11f34058b4","versionSpec":"2.*","definitionType":"task"},"inputs":{"ConnectedServiceName":"a1beeaf6-0868-4096-9957-c3124860fd61","action":"Create Or Update Resource Group","resourceGroupName":"aksdevpoc-rg","location":"East US","templateLocation":"Linked artifact","csmFileLink":"","csmParametersFileLink":"","csmFile":"$(System.DefaultWorkingDirectory)/**/containerRegistry-template.json","csmParametersFile":"","overrideParameters":"-registryName \"aksdevpocacr\" -registryLocation \"South Central US\" -registrySku \"Standard\"","deploymentMode":"Incremental","enableDeploymentPrerequisites":"None","deploymentGroupEndpoint":"","project":"","deploymentGroupName":"","copyAzureVMTags":"true","runAgentServiceAsUser":"false","userName":"","password":"","outputVariable":"","deploymentOutputs":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Build an image","timeoutInMinutes":0,"task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"1.*","definitionType":"task"},"inputs":{"containerregistrytype":"Azure Container Registry","dockerRegistryEndpoint":"","azureSubscriptionEndpoint":"a1beeaf6-0868-4096-9957-c3124860fd61","azureContainerRegistry":"aksdevpocacr.azurecr.io","command":"Build an image","dockerFile":"**/Dockerfile","buildArguments":"","defaultContext":"true","context":"","imageName":"aksdevpocacr.azurecr.io/aksdevpoc79e5:$(Build.BuildId)","imageNamesPath":"","qualifyImageName":"true","additionalImageTags":"","includeSourceTags":"false","includeLatestTag":"false","imageDigestFile":"","containerName":"","ports":"","volumes":"","envVars":"","workDir":"","entrypoint":"","containerCommand":"","detached":"true","restartPolicy":"no","restartMaxRetries":"","customCommand":"","dockerHostEndpoint":"","enforceDockerNamingConvention":"true","cwd":"$(System.DefaultWorkingDirectory)","memory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Push an image","timeoutInMinutes":0,"task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"1.*","definitionType":"task"},"inputs":{"containerregistrytype":"Azure Container Registry","dockerRegistryEndpoint":"","azureSubscriptionEndpoint":"a1beeaf6-0868-4096-9957-c3124860fd61","azureContainerRegistry":"aksdevpocacr.azurecr.io","command":"Push an image","dockerFile":"**/Dockerfile","buildArguments":"","defaultContext":"true","context":"","imageName":"aksdevpocacr.azurecr.io/aksdevpoc79e5:$(Build.BuildId)","imageNamesPath":"","qualifyImageName":"true","additionalImageTags":"","includeSourceTags":"false","includeLatestTag":"false","imageDigestFile":"","containerName":"","ports":"","volumes":"","envVars":"","workDir":"","entrypoint":"","containerCommand":"","detached":"true","restartPolicy":"no","restartMaxRetries":"","customCommand":"","dockerHostEndpoint":"","enforceDockerNamingConvention":"true","cwd":"$(System.DefaultWorkingDirectory)","memory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Install Helm 3.*.*","timeoutInMinutes":0,"task":{"id":"068d5909-43e6-48c5-9e01-7c8a94816220","versionSpec":"0.*","definitionType":"task"},"inputs":{"helmVersion":"3.0.2","installKubeCtl":"true","kubectlVersion":"1.10.3","checkLatestKubeCtl":"false","checkLatestHelmVersion":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"helm package","timeoutInMinutes":0,"task":{"id":"afa7d54d-537b-4dc8-b60a-e0eeea2c9a87","versionSpec":"0.*","definitionType":"task"},"inputs":{"connectionType":"Azure Resource Manager","azureSubscriptionEndpoint":"","azureResourceGroup":"","kubernetesCluster":"","kubernetesServiceEndpoint":"","namespace":"","command":"package","chartType":"FilePath","chartName":"","chartPath":"**/charts/sampleapp","version":"","releaseName":"","overrideValues":"","valueFile":"","destination":"$(Build.ArtifactStagingDirectory)","canaryimage":"false","upgradetiller":"false","updatedependency":"false","save":"false","install":"false","recreate":"false","resetValues":"false","force":"false","waitForExecution":"true","arguments":"","tillernamespace":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Copy ARM templates","timeoutInMinutes":0,"task":{"id":"5bfb729a-a7c8-4a78-a7c3-8d717bb7c13c","versionSpec":"2.*","definitionType":"task"},"inputs":{"SourceFolder":"ArmTemplates","Contents":"**","TargetFolder":"$(build.artifactstagingdirectory)","CleanTargetFolder":"false","OverWrite":"false","flattenFolders":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Publish Artifacts: drop","timeoutInMinutes":0,"task":{"id":"2ff763a7-ce83-4e1f-bc89-0ae63477cebe","versionSpec":"1.*","definitionType":"task"},"inputs":{"PathtoPublish":"$(Build.ArtifactStagingDirectory)","ArtifactName":"drop","ArtifactType":"Container","TargetPath":"\\\\my\\share\\$(Build.DefinitionName)\\$(Build.BuildNumber)","Parallel":"false","ParallelCount":"8"}}],"name":null,"refName":"Phase_1","target":{"executionOptions":null,"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":0}],"target":{"agentSpecification":{"identifier":"ubuntu-16.04"}},"type":1},"repository":{"properties":{"fetchDepth":"0"},"id":"a8f609bb-a799-474a-801e-81ab4230d9b7","type":"TfsGit","name":"aksdevpoc","url":"https://dev.azure.com/campbellj0/aksdevpoc/_git/aksdevpoc","defaultBranch":"refs/heads/master","clean":"false","checkoutSubmodules":false},"quality":1,"authoredBy":{"displayName":"Joe Campbell","url":"https://spsprodcus2.vssps.visualstudio.com/A5a6858c3-4eb7-4a0c-80f5-5d9de1ee74ab/_apis/Identities/477f43cf-ff4e-48a5-973d-d0b03bbb35ac","_links":{"avatar":{"href":"https://dev.azure.com/campbellj0/_apis/GraphProfile/MemberAvatars/aad.YTVkYTNhMGUtZWYxZC03NTE2LWIxODUtZDMzOTUyNjYzYzZi"}},"id":"477f43cf-ff4e-48a5-973d-d0b03bbb35ac","uniqueName":"joseph.campbell2@gmail.com","imageUrl":"https://dev.azure.com/campbellj0/_apis/GraphProfile/MemberAvatars/aad.YTVkYTNhMGUtZWYxZC03NTE2LWIxODUtZDMzOTUyNjYzYzZi","descriptor":"aad.YTVkYTNhMGUtZWYxZC03NTE2LWIxODUtZDMzOTUyNjYzYzZi"},"drafts":[],"queue":{"_links":{"self":{"href":"https://dev.azure.com/campbellj0/_apis/build/Queues/27"}},"id":27,"name":"Azure Pipelines","url":"https://dev.azure.com/campbellj0/_apis/build/Queues/27","pool":{"id":9,"name":"Azure Pipelines","isHosted":true}},"id":2,"name":"aksdevpoc - CI","url":"https://dev.azure.com/campbellj0/d5229ca7-3253-4f8e-822d-a5bcac0c9fa3/_apis/build/Definitions/2?revision=1","uri":"vstfs:///Build/Definition/2","path":"\\","type":2,"queueStatus":0,"revision":1,"createdDate":"2020-10-08T20:49:09.553Z","project":{"id":"d5229ca7-3253-4f8e-822d-a5bcac0c9fa3","name":"aksdevpoc","url":"https://dev.azure.com/campbellj0/_apis/projects/d5229ca7-3253-4f8e-822d-a5bcac0c9fa3","state":1,"revision":27,"visibility":0,"lastUpdateTime":"2020-10-08T20:49:05.607Z"}}